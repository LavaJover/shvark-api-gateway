basePath: /api/v1
definitions:
  device.CreateDeviceRequest:
    properties:
      deviceName:
        type: string
      enabled:
        type: boolean
      traderId:
        type: string
    required:
    - deviceName
    - traderId
    type: object
  device.CreateDeviceResponse:
    properties:
      deviceId:
        type: string
      deviceName:
        type: string
      enabled:
        type: boolean
      traderId:
        type: string
    type: object
  device.DeleteDeviceResponse:
    properties:
      message:
        type: string
      success:
        type: boolean
    type: object
  device.Device:
    properties:
      deviceId:
        type: string
      deviceName:
        type: string
      enabled:
        type: boolean
      traderId:
        type: string
    type: object
  device.EditDeviceParams:
    properties:
      deviceName:
        type: string
      enabled:
        type: boolean
    type: object
  device.EditDeviceRequest:
    properties:
      editDeviceParams:
        $ref: '#/definitions/device.EditDeviceParams'
    required:
    - editDeviceParams
    type: object
  device.EditDeviceResponse:
    properties:
      deviceId:
        type: string
      deviceName:
        type: string
      enabled:
        type: boolean
    type: object
  device.GetTraderDevicesResponse:
    properties:
      devices:
        items:
          $ref: '#/definitions/device.Device'
        type: array
    type: object
  github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_admin_request.CreateDisputeRequest:
    properties:
      dispute_amount_fiat:
        type: number
      dispute_reason:
        type: string
      order_id:
        type: string
      proof_url:
        type: string
      ttl:
        type: string
    type: object
  github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_admin_response.BankDetail:
    properties:
      bank_name:
        type: string
      card_number:
        type: string
      owner:
        type: string
      payment_system:
        type: string
      phone:
        type: string
      trader_id:
        type: string
    type: object
  github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_admin_response.CreateDisputeResponse:
    properties:
      dispute_id:
        type: string
    type: object
  github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_admin_response.Dispute:
    properties:
      accept_at:
        type: string
      dispute_amount_crypto:
        type: number
      dispute_amount_fiat:
        type: number
      dispute_crypto_rate:
        type: number
      dispute_id:
        type: string
      dispute_reason:
        type: string
      dispute_status:
        type: string
      order:
        $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_admin_response.Order'
      order_id:
        type: string
      proof_url:
        type: string
    type: object
  github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_admin_response.Order:
    properties:
      amount_crypto:
        type: number
      amount_fiat:
        type: number
      bank_detail:
        $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_admin_response.BankDetail'
      crypro_rate:
        type: number
      merchant_order_id:
        type: string
      order_id:
        type: string
    type: object
  github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_admin_response.Pagination:
    properties:
      current_page:
        type: integer
      items_per_page:
        type: integer
      total_items:
        type: integer
      total_pages:
        type: integer
    type: object
  github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_auth_request.LoginRequest:
    properties:
      login:
        example: CoolUserLogin
        type: string
      password:
        example: securepass123
        type: string
      two_fa_code:
        type: string
    type: object
  github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_auth_response.LoginResponse:
    properties:
      access_token:
        type: string
      dateTimeExpires:
        type: string
      refresh_token:
        type: string
    type: object
  github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_banking_response.BankDetail:
    properties:
      bank_code:
        type: string
      bank_name:
        type: string
      card_number:
        type: string
      country:
        type: string
      currency:
        type: string
      delay:
        type: integer
      device_id:
        type: string
      enabled:
        type: boolean
      id:
        type: string
      inflow_currency:
        type: string
      max_amount:
        type: number
      max_amount_day:
        type: number
      max_amount_month:
        type: number
      max_orders_simultaneosly:
        type: integer
      max_quantity_day:
        type: integer
      max_quantity_month:
        type: integer
      min_amount:
        type: number
      nspk_code:
        type: string
      owner:
        type: string
      payment_system:
        type: string
      phone:
        type: string
      trader_id:
        type: string
    type: object
  github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_banking_response.Pagination:
    properties:
      current_page:
        type: integer
      items_per_page:
        type: integer
      total_items:
        type: integer
      total_pages:
        type: integer
    type: object
  github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_order_response.BankDetail:
    properties:
      bank_name:
        type: string
      card_number:
        type: string
      country:
        type: string
      currency:
        type: string
      delay:
        type: string
      enabled:
        type: boolean
      id:
        type: string
      max_amount:
        type: number
      min_amount:
        type: number
      owner:
        type: string
      payment_system:
        type: string
      phone:
        type: string
      trader_id:
        type: string
    type: object
  github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_order_response.Order:
    properties:
      amount_crypto:
        type: number
      amount_fiat:
        type: number
      bank_detail:
        $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_order_response.BankDetail'
      created_at:
        type: string
      crypto_rub_rate:
        type: number
      device_id:
        type: string
      expires_at:
        type: string
      merchant_id:
        type: string
      merchant_order_id:
        type: string
      order_id:
        type: string
      status:
        type: string
      trader_reward:
        type: number
      updated_at:
        type: string
    type: object
  github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_order_response.Pagination:
    properties:
      current_page:
        type: integer
      items_per_page:
        type: integer
      total_items:
        type: integer
      total_pages:
        type: integer
    type: object
  github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_payment_request.CreateDisputeRequest:
    properties:
      amount_fiat:
        type: number
      proof_url:
        type: string
      reason:
        type: string
    type: object
  github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_payment_response.CreateDisputeResponse:
    properties:
      dispute_id:
        type: string
      expires_at:
        type: string
    type: object
  github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_payment_response.Dispute:
    properties:
      dispute_id:
        type: string
      dispute_reason:
        type: string
      dispute_status:
        type: string
      order_id:
        type: string
      proof_url:
        type: string
    type: object
  github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_wallet_request.WithdrawRequest:
    properties:
      amount:
        type: number
      toAddress:
        type: string
      traderId:
        type: string
    type: object
  github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_wallet_response.Pagination:
    properties:
      currentPage:
        type: integer
      hasNextPage:
        type: boolean
      hasPrevPage:
        type: boolean
      itemsPerPage:
        type: integer
      totalItems:
        type: integer
      totalPages:
        type: integer
    type: object
  github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_wallet_response.WithdrawResponse:
    properties:
      txid:
        type: string
    type: object
  handlers.Amount:
    properties:
      amount:
        type: number
      currency:
        type: string
    type: object
  handlers.AntiFraudRuleResponse:
    properties:
      config:
        additionalProperties: true
        type: object
      created_at:
        type: string
      id:
        type: string
      is_active:
        type: boolean
      name:
        type: string
      priority:
        type: integer
      type:
        type: string
      updated_at:
        type: string
    type: object
  handlers.AuditLogResponse:
    properties:
      all_passed:
        type: boolean
      checked_at:
        type: string
      created_at:
        type: string
      id:
        type: string
      results:
        items:
          $ref: '#/definitions/handlers.CheckResultResponse'
        type: array
      trader_id:
        type: string
    type: object
  handlers.CheckResultResponse:
    properties:
      details:
        additionalProperties: true
        type: object
      message:
        type: string
      passed:
        type: boolean
      rule_name:
        type: string
    type: object
  handlers.CheckTraderResponse:
    properties:
      all_passed:
        type: boolean
      checked_at:
        type: string
      failed_rules:
        items:
          type: string
        type: array
      results:
        items:
          $ref: '#/definitions/handlers.CheckResultResponse'
        type: array
      trader_id:
        type: string
    type: object
  handlers.CreateRuleRequest:
    properties:
      config:
        additionalProperties: true
        type: object
      name:
        type: string
      priority:
        type: integer
      type:
        type: string
    required:
    - config
    - name
    - type
    type: object
  handlers.CreateRuleResponse:
    properties:
      rule:
        $ref: '#/definitions/handlers.AntiFraudRuleResponse'
    type: object
  handlers.DeleteRuleResponse:
    properties:
      message:
        type: string
      success:
        type: boolean
    type: object
  handlers.ErrorResponse:
    properties:
      error:
        example: invalid data
        type: string
    type: object
  handlers.GetAuditLogsResponse:
    properties:
      logs:
        items:
          $ref: '#/definitions/handlers.AuditLogResponse'
        type: array
      total:
        type: integer
    type: object
  handlers.GetOrdersResponse:
    properties:
      content:
        items:
          $ref: '#/definitions/handlers.OrderResponse'
        type: array
      empty:
        type: boolean
      first:
        type: boolean
      last:
        type: boolean
      number:
        type: integer
      numberOfElements:
        type: integer
      pageable:
        $ref: '#/definitions/handlers.Pageable'
      size:
        type: integer
      sort:
        $ref: '#/definitions/handlers.Sort'
      totalElements:
        type: integer
      totalPages:
        type: integer
    type: object
  handlers.GetRulesResponse:
    properties:
      rules:
        items:
          $ref: '#/definitions/handlers.AntiFraudRuleResponse'
        type: array
    type: object
  handlers.GetTraderAuditHistoryResponse:
    properties:
      logs:
        items:
          $ref: '#/definitions/handlers.AuditLogResponse'
        type: array
    type: object
  handlers.GetTraderTrafficResponse:
    properties:
      records:
        items:
          $ref: '#/definitions/handlers.TrafficRecordResponse'
        type: array
    type: object
  handlers.GetUnlockHistoryResponse:
    properties:
      items:
        items:
          $ref: '#/definitions/handlers.UnlockHistoryItem'
        type: array
    type: object
  handlers.LockStatusesResponse:
    properties:
      antifraud_unlocked:
        type: boolean
      manually_unlocked:
        type: boolean
      merchant_unlocked:
        type: boolean
      trader_unlocked:
        type: boolean
      traffic_id:
        type: string
    type: object
  handlers.ManualUnlockRequest:
    properties:
      admin_id:
        type: string
      grace_period_hours:
        type: integer
      reason:
        type: string
    required:
    - admin_id
    - reason
    type: object
  handlers.ManualUnlockResponse:
    properties:
      grace_period_until:
        type: string
      message:
        type: string
      success:
        type: boolean
    type: object
  handlers.OrderResponse:
    properties:
      currencyRate:
        type: number
      email:
        type: string
      id:
        type: string
      requisites:
        $ref: '#/definitions/handlers.Requisites'
      status:
        type: string
      storeName:
        type: string
      sumDeal:
        $ref: '#/definitions/handlers.Amount'
      sumInvoice:
        $ref: '#/definitions/handlers.Amount'
      timeComplete:
        type: string
      timeExpires:
        type: string
      timeOpening:
        type: string
      type:
        type: string
    type: object
  handlers.Pageable:
    properties:
      offset:
        type: integer
      pageNumber:
        type: integer
      pageSize:
        type: integer
      paged:
        type: boolean
      sort:
        $ref: '#/definitions/handlers.Sort'
      unpaged:
        type: boolean
    type: object
  handlers.ProcessTraderCheckResponse:
    properties:
      message:
        type: string
      success:
        type: boolean
    type: object
  handlers.Requisites:
    properties:
      cardNumber:
        type: string
      holderName:
        type: string
      issuer:
        type: string
      phoneNumber:
        type: string
    type: object
  handlers.ResetGracePeriodResponse:
    properties:
      message:
        type: string
      success:
        type: boolean
    type: object
  handlers.SMSRequest:
    properties:
      amount:
        type: number
      balance:
        type: number
      blocked:
        type: boolean
      direction:
        type: string
      group:
        type: string
      methods:
        items:
          type: string
        type: array
      payment_system:
        type: string
      received_at:
        type: integer
      success:
        type: boolean
      text:
        type: string
      title:
        type: string
      too_old:
        type: boolean
      unknown:
        type: boolean
      version:
        type: string
    type: object
  handlers.Sort:
    properties:
      empty:
        type: boolean
      sorted:
        type: boolean
      unsorted:
        type: boolean
    type: object
  handlers.TrafficRecordResponse:
    properties:
      activity_params:
        properties:
          antifraud_unlocked:
            type: boolean
          manually_unlocked:
            type: boolean
          merchant_unlocked:
            type: boolean
          trader_unlocked:
            type: boolean
        type: object
      antifraud_params:
        properties:
          antifraud_required:
            type: boolean
        type: object
      business_params:
        properties:
          merchant_deals_duration:
            type: integer
        type: object
      enabled:
        type: boolean
      id:
        type: string
      merchant_id:
        type: string
      name:
        type: string
      platform_fee:
        type: number
      trader_id:
        type: string
      trader_priority:
        type: number
      trader_reward_percent:
        type: number
    type: object
  handlers.TrafficUnlockedResponse:
    properties:
      traffic_id:
        type: string
      unlocked:
        type: boolean
    type: object
  handlers.UnlockHistoryItem:
    properties:
      admin_id:
        type: string
      created_at:
        type: string
      grace_period_hours:
        type: integer
      id:
        type: string
      reason:
        type: string
      trader_id:
        type: string
      unlocked_at:
        type: string
    type: object
  handlers.UpdateRuleRequest:
    properties:
      config:
        additionalProperties: true
        type: object
      is_active:
        type: boolean
      priority:
        type: integer
    type: object
  handlers.UpdateRuleResponse:
    properties:
      message:
        type: string
      success:
        type: boolean
    type: object
  merchant.AccountBalance:
    properties:
      balance:
        type: string
      currency:
        type: string
      name:
        type: string
    type: object
  merchant.CreatePayInRequest:
    properties:
      amount:
        type: number
      callbackUrl:
        type: string
      currency:
        type: string
      isSbp:
        type: boolean
      issuer:
        type: string
      iternalId:
        type: string
      nspkCode:
        type: string
    type: object
  merchant.CreatePayInResponse:
    properties:
      amount:
        type: number
      amountByCurrency:
        type: number
      cardNumber:
        type: string
      currencyRate:
        type: number
      holderName:
        type: string
      issuer:
        type: string
      nspkCode:
        type: string
      orderId:
        type: string
      phoneNumber:
        type: string
      timeExpires:
        type: string
    type: object
  merchant.GetAccountBalanceResponse:
    properties:
      balances:
        items:
          $ref: '#/definitions/merchant.AccountBalance'
        type: array
    type: object
  merchant.GetOrderStatusResponse:
    properties:
      status:
        type: string
    type: object
  merchant.LoginRequest:
    properties:
      email:
        type: string
      password:
        type: string
      twoFaCode:
        type: string
    type: object
  merchant.LoginResponse:
    properties:
      apiKey:
        type: string
      dateTimeExpires:
        type: string
      token:
        type: string
    type: object
  merchant.WithdrawRequest:
    properties:
      amount:
        type: number
      currency:
        type: string
      toAddress:
        type: string
    type: object
  merchant.WithdrawResponse:
    properties:
      amount:
        type: number
      currency:
        type: string
      toAddress:
        type: string
      txHash:
        type: string
    type: object
  request.AcceptDisputeRequest:
    properties:
      dispute_id:
        type: string
    type: object
  request.AddPolicyRequest:
    properties:
      action:
        type: string
      object:
        type: string
      role:
        type: string
    required:
    - action
    - object
    - role
    type: object
  request.ApproveOrderRequest:
    properties:
      order_id:
        type: string
    type: object
  request.AssignRoleRequest:
    properties:
      role:
        type: string
      user_id:
        type: string
    required:
    - role
    - user_id
    type: object
  request.BankDetail:
    properties:
      bank_code:
        type: string
      bank_name:
        type: string
      card_number:
        type: string
      country:
        type: string
      currency:
        type: string
      delay:
        type: string
      device_id:
        type: string
      enabled:
        type: boolean
      id:
        type: string
      inflow_currency:
        type: string
      max_amount:
        type: number
      max_amount_day:
        type: number
      max_amount_month:
        type: number
      max_orders_simultaneosly:
        type: integer
      max_quantity_day:
        type: integer
      max_quantity_month:
        type: integer
      min_amount:
        type: number
      nspk_code:
        type: string
      owner:
        type: string
      payment_system:
        type: string
      phone:
        type: string
      trader_id:
        type: string
    type: object
  request.CancelOrderRequest:
    properties:
      order_id:
        type: string
    type: object
  request.CheckPermissionRequest:
    properties:
      action:
        type: string
      object:
        type: string
      user_id:
        type: string
    required:
    - action
    - object
    - user_id
    type: object
  request.CreateBankDetailRequest:
    properties:
      bank_code:
        type: string
      bank_name:
        type: string
      card_number:
        type: string
      country:
        type: string
      currency:
        type: string
      delay:
        example: 100s
        type: string
      device_id:
        type: string
      enabled:
        type: boolean
      inflow_currency:
        type: string
      max_amount:
        type: number
      max_amount_day:
        type: number
      max_amount_month:
        type: number
      max_orders_simultaneosly:
        type: integer
      max_quantity_day:
        type: integer
      max_quantity_month:
        type: integer
      min_amount:
        type: number
      nspk_code:
        type: string
      owner:
        type: string
      payment_system:
        type: string
      phone:
        type: string
      trader_id:
        type: string
    type: object
  request.CreateDeeplinkRequest:
    properties:
      bank_code:
        type: string
      order_id:
        type: string
      phone_number:
        type: string
    required:
    - bank_code
    - order_id
    type: object
  request.CreateH2HPayInRequest:
    properties:
      amountFiat:
        type: number
      callbackUrl:
        type: string
      clientId:
        type: string
      currency:
        type: string
      ftd:
        type: boolean
      issuer:
        type: string
      merchantId:
        type: string
      merchantOrderId:
        type: string
      paymentSystem:
        type: string
      shuffle:
        type: integer
    type: object
  request.CreateMerchantRequest:
    properties:
      login:
        type: string
      password:
        type: string
      username:
        type: string
    type: object
  request.CreateOrderRequest:
    properties:
      amount_fiat:
        type: number
      client_id:
        type: string
      country:
        type: string
      currency:
        type: string
      merchant_id:
        type: string
      merchant_order_id:
        type: string
      payment_system:
        type: string
      shuffle:
        type: integer
      ttl:
        type: string
    type: object
  request.CreateTeamRelationRequest:
    properties:
      teamLeadId:
        type: string
      teamRelationParams:
        $ref: '#/definitions/request.TeamRelationParams'
      traderId:
        type: string
    type: object
  request.CreateTeamRequest:
    properties:
      login:
        type: string
      password:
        type: string
      username:
        type: string
    type: object
  request.CreateTrafficRequest:
    properties:
      enabled:
        type: boolean
      merchant_id:
        type: string
      name:
        type: string
      platform_fee:
        type: number
      trader_id:
        type: string
      trader_priority:
        type: number
      trader_reward:
        type: number
      traffic_activity_params:
        $ref: '#/definitions/request.TrafficActivityParams'
      traffic_antifraud_params:
        $ref: '#/definitions/request.TrafficAntifraudParams'
      traffic_business_params:
        $ref: '#/definitions/request.TrafficBusinessParams'
    type: object
  request.CreateWalletRequest:
    properties:
      traderId:
        type: string
    type: object
  request.DeleteBankDetailRequest:
    properties:
      bank_detail_id:
        type: string
    type: object
  request.DeletePolicyRequest:
    properties:
      action:
        type: string
      object:
        type: string
      role:
        type: string
    required:
    - action
    - object
    - role
    type: object
  request.DepositRequest:
    properties:
      amount:
        type: number
      traderId:
        type: string
      txHash:
        type: string
    type: object
  request.EditTrafficRequest:
    properties:
      activity_params:
        $ref: '#/definitions/request.TrafficActivityParams'
      antifraud_params:
        $ref: '#/definitions/request.TrafficAntifraudParams'
      business_params:
        $ref: '#/definitions/request.TrafficBusinessParams'
      enabled:
        type: boolean
      id:
        type: string
      merchant_id:
        type: string
      name:
        type: string
      platform_fee:
        type: number
      trader_id:
        type: string
      trader_priority:
        type: number
      trader_reward:
        type: number
    type: object
  request.FreezeDisputeRequest:
    properties:
      dispute_id:
        type: string
    type: object
  request.FreezeRequest:
    properties:
      amount:
        type: number
      orderId:
        type: string
      traderId:
        type: string
    type: object
  request.OffchainWithdrawRequest:
    properties:
      amount:
        type: number
      traderId:
        type: string
      txHash:
        type: string
    type: object
  request.RegisterRequest:
    properties:
      login:
        type: string
      password:
        minLength: 8
        type: string
      role:
        type: string
      username:
        type: string
    required:
    - login
    - password
    - username
    type: object
  request.RejectDisputeRequest:
    properties:
      dispute_id:
        type: string
    type: object
  request.ReleaseRequest:
    properties:
      orderId:
        type: string
      rewardPercent:
        type: number
      traderId:
        type: string
    type: object
  request.RevokeRoleRequest:
    properties:
      role:
        type: string
      user_id:
        type: string
    required:
    - role
    - user_id
    type: object
  request.SetWithdrawalRulesRequest:
    properties:
      cooldown_seconds:
        type: integer
      fixed_fee:
        type: number
      min_amount:
        type: number
      user_id:
        type: string
    type: object
  request.TeamRelationParams:
    properties:
      commission:
        type: number
    type: object
  request.TrafficActivityParams:
    properties:
      antifraud_unlocked:
        type: boolean
      manually_unlocked:
        type: boolean
      merchant_unlocked:
        type: boolean
      trader_unlocked:
        type: boolean
    type: object
  request.TrafficAntifraudParams:
    properties:
      antifraud_required:
        type: boolean
    type: object
  request.TrafficBusinessParams:
    properties:
      merchant_deals_duration:
        type: string
    type: object
  request.UpdateBankDetailRequest:
    properties:
      bank_detail:
        $ref: '#/definitions/request.BankDetail'
    type: object
  request.UpdateTeamRelationRequest:
    properties:
      relationId:
        type: string
      teamRelationParams:
        $ref: '#/definitions/request.TeamRelationParams'
    type: object
  request.ValidateTokenRequest:
    properties:
      token:
        type: string
    type: object
  request.Verify2FARequest:
    properties:
      code:
        type: string
    type: object
  response.AcceptDisputeResponse:
    type: object
  response.AddPolicyResponse:
    properties:
      success:
        type: boolean
    required:
    - success
    type: object
  response.ApproveOrderResponse:
    properties:
      message:
        type: string
    type: object
  response.AssignRoleResponse:
    properties:
      success:
        type: boolean
    required:
    - success
    type: object
  response.BadRequestErrorResponse:
    properties:
      error:
        type: string
    type: object
  response.BankDetailStat:
    properties:
      bank_detail_id:
        type: string
      current_amount_month:
        type: number
      current_amount_today:
        type: number
      current_count_month:
        type: integer
      current_count_today:
        type: integer
    type: object
  response.CancelOrderResponse:
    properties:
      message:
        type: string
    type: object
  response.CancelPayInResponse:
    properties:
      message:
        type: string
    type: object
  response.CheckPermissionResponse:
    properties:
      allowed:
        type: boolean
    required:
    - allowed
    type: object
  response.CommissionProfitResponse:
    properties:
      currency:
        type: string
      from:
        type: string
      to:
        type: string
      totalCommission:
        type: number
      traderId:
        type: string
    type: object
  response.CreateBankDetailResponse:
    properties:
      bank_detail_id:
        type: string
      message:
        type: string
    type: object
  response.CreateH2HPayInResponse:
    properties:
      amount_crypto:
        type: number
      amount_fiat:
        type: number
      callback_url:
        type: string
      crypto_rub_rate:
        type: number
      currency:
        type: string
      deeplink_html:
        type: string
      deeplink_redirect:
        type: string
      expires_at:
        type: integer
      merchant_order_id:
        type: string
      order_id:
        type: string
      payment_details:
        $ref: '#/definitions/response.PaymentDetails'
      payment_system:
        type: string
      recalculated:
        type: boolean
      status:
        type: string
      tpay_link:
        type: string
    type: object
  response.CreateMerchantResponse:
    properties:
      access_token:
        type: string
      merchant_id:
        type: string
      wallet_address:
        type: string
    type: object
  response.CreateOrderResponse:
    properties:
      amount_crypto:
        type: number
      amount_fiat:
        type: number
      bank_detail:
        $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_order_response.BankDetail'
      order_id:
        type: string
      order_status:
        type: string
    type: object
  response.CreateTeamResponse:
    properties:
      access_token:
        type: string
      trader_id:
        type: string
      wallet_address:
        type: string
    type: object
  response.CreateTrafficResponse:
    properties:
      message:
        type: string
    type: object
  response.CreateWalletErrorResponse:
    type: object
  response.DeleteBankDetailResponse:
    properties:
      bank_detail:
        $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_banking_response.BankDetail'
    type: object
  response.DeletePolicyResponse:
    properties:
      success:
        type: boolean
    required:
    - success
    type: object
  response.DeleteWithdrawalRulesResponse:
    type: object
  response.DepositErrorResponse:
    properties:
      error:
        example: Wallet not found
        type: string
    type: object
  response.DepositResponse:
    properties:
      success:
        type: boolean
    type: object
  response.EditTrafficResponse:
    type: object
  response.ErrorResponse:
    properties:
      error:
        type: string
    type: object
  response.FreezeDisputeResponse:
    type: object
  response.FreezeErrorResponse:
    properties:
      error:
        example: Insufficient balance
        type: string
    type: object
  response.FreezeResponse:
    properties:
      frozen:
        type: number
    type: object
  response.GetAllOrdersResponse:
    properties:
      orders:
        items:
          $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_order_response.Order'
        type: array
      pagination:
        $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_order_response.Pagination'
    type: object
  response.GetBankDetailByIDResponse:
    properties:
      bank_detail:
        $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_banking_response.BankDetail'
    type: object
  response.GetBankDetailsByTraderIDResponse:
    properties:
      bank_details:
        items:
          $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_banking_response.BankDetail'
        type: array
    type: object
  response.GetBankDetailsResponse:
    properties:
      bank_details:
        items:
          $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_banking_response.BankDetail'
        type: array
      pagination:
        $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_banking_response.Pagination'
    type: object
  response.GetBankDetailsStatsResponse:
    properties:
      stats:
        items:
          $ref: '#/definitions/response.BankDetailStat'
        type: array
    type: object
  response.GetDisputeInfoResponse:
    properties:
      dispute:
        $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_admin_response.Dispute'
    type: object
  response.GetH2HPayInInfoResponse:
    properties:
      amount_crypto:
        type: number
      amount_fiat:
        type: number
      callback_url:
        type: string
      crypto_rub_rate:
        type: number
      currency:
        type: string
      expires_at:
        type: integer
      merchant_order_id:
        type: string
      order_id:
        type: string
      payment_details:
        $ref: '#/definitions/response.PaymentDetails'
      payment_system:
        type: string
      recalculated:
        type: boolean
      status:
        type: string
      tpay_link:
        type: string
    type: object
  response.GetOrderByIDResponse:
    properties:
      order:
        $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_order_response.Order'
    type: object
  response.GetOrderDisputesResponse:
    properties:
      disputes:
        items:
          $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_admin_response.Dispute'
        type: array
      pagination:
        $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_admin_response.Pagination'
    type: object
  response.GetOrderStatsResponse:
    properties:
      canceled_amount_crypto:
        type: number
      canceled_amount_fiat:
        type: number
      canceled_orders:
        type: integer
      income_crypto:
        type: number
      processed_amount_crypto:
        type: number
      processed_amount_fiat:
        type: number
      succeed_orders:
        type: integer
      total_orders:
        type: integer
    type: object
  response.GetOrdersByTraderIDResponse:
    properties:
      orders:
        items:
          $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_order_response.Order'
        type: array
      pagination:
        $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_order_response.Pagination'
    type: object
  response.GetPayInArbitrageInfoResponse:
    properties:
      dispute:
        $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_payment_response.Dispute'
    type: object
  response.GetProfileByIDResponse:
    properties:
      avatar_url:
        type: string
      profile_id:
        type: string
      tg_link:
        type: string
      user_id:
        type: string
    type: object
  response.GetTraderBalanceErrorResponse:
    properties:
      error:
        type: string
    type: object
  response.GetTraderBalanceResponse:
    properties:
      address:
        type: string
      balance:
        type: number
      currency:
        type: string
      frozen:
        type: number
      traderId:
        type: string
    type: object
  response.GetTraderHistoryErrorResponse:
    properties:
      error:
        type: string
    type: object
  response.GetTraderHistoryResponse:
    properties:
      history:
        items:
          $ref: '#/definitions/response.Transaction'
        type: array
      pagination:
        $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_wallet_response.Pagination'
    type: object
  response.GetTraderWalletAddressErrorResponse:
    properties:
      error:
        type: string
    type: object
  response.GetTraderWalletAddressResponse:
    properties:
      address:
        type: string
    type: object
  response.GetTrafficResponse:
    properties:
      traffic_records:
        items:
          $ref: '#/definitions/response.Traffic'
        type: array
    type: object
  response.GetUserByIDResponse:
    properties:
      login:
        type: string
      password:
        type: string
      user_id:
        type: string
      username:
        type: string
    type: object
  response.GetUsersResponse:
    properties:
      users:
        items:
          $ref: '#/definitions/response.User'
        type: array
    type: object
  response.GetWithdrawalRulesResponse:
    properties:
      rule:
        $ref: '#/definitions/response.Rule'
    type: object
  response.NoBankDetailsErrorResponse:
    properties:
      error:
        type: string
    type: object
  response.OffchainWithdrawResponse:
    type: object
  response.PaymentDetails:
    properties:
      bank:
        description: User-friendly
        type: string
      bank_id:
        description: In SBP system
        type: string
      bank_name:
        type: string
      card_number:
        type: string
      owner:
        type: string
      phone:
        type: string
    type: object
  response.RegisterResponse:
    properties:
      user_id:
        example: 1d6ab366-4fca-4bcc-972d-875c35ea939a
        type: string
    type: object
  response.RejectDisputeResponse:
    type: object
  response.ReleaseErrorResponse:
    properties:
      error:
        type: string
    type: object
  response.ReleaseResponse:
    properties:
      released:
        type: number
      reward:
        type: number
    type: object
  response.RevokeRoleResponse:
    properties:
      success:
        type: boolean
    required:
    - success
    type: object
  response.Rule:
    properties:
      cooldown_seconds:
        type: integer
      created_at:
        type: string
      fixed_fee:
        type: number
      id:
        type: integer
      min_amount:
        type: number
      trader_id:
        type: string
      updated_at:
        type: string
    type: object
  response.SetWithdrawalRulesResponse:
    properties:
      rule:
        $ref: '#/definitions/response.Rule'
      success:
        type: boolean
    type: object
  response.Setup2FAResponse:
    properties:
      qr_url:
        type: string
    type: object
  response.TeamRelation:
    properties:
      id:
        type: string
      teamLeadId:
        type: string
      teamRelationRarams:
        $ref: '#/definitions/response.TeamRelationRarams'
      traderId:
        type: string
    type: object
  response.TeamRelationRarams:
    properties:
      commission:
        type: number
    type: object
  response.TeamRelationsResponse:
    properties:
      teamRelations:
        items:
          $ref: '#/definitions/response.TeamRelation'
        type: array
    type: object
  response.Traffic:
    properties:
      activity_params:
        allOf:
        - $ref: '#/definitions/response.TrafficActivityParams'
        description: Гибкие параметры
      antifraud_params:
        allOf:
        - $ref: '#/definitions/response.TrafficAntifraudParams'
        description: Для антифрода
      business_params:
        allOf:
        - $ref: '#/definitions/response.TrafficBusinessParams'
        description: Бизнес-параметры
      enabled:
        description: для админов `json:"enabled"`
        type: boolean
      id:
        type: string
      merchant_id:
        type: string
      name:
        type: string
      platform_fee:
        type: number
      trader_id:
        type: string
      trader_priority:
        type: number
      trader_reward_percent:
        type: number
    type: object
  response.TrafficActivityParams:
    properties:
      antifraud_unlocked:
        type: boolean
      manually_unlocked:
        type: boolean
      merchant_unlocked:
        type: boolean
      trader_unlocked:
        type: boolean
    type: object
  response.TrafficAntifraudParams:
    properties:
      antifraud_required:
        type: boolean
    type: object
  response.TrafficBusinessParams:
    properties:
      merchant_deals_duration:
        type: string
    type: object
  response.Transaction:
    properties:
      amount:
        type: number
      createdAt:
        description: Добавьте это поле
        type: string
      currency:
        type: string
      id:
        type: string
      orderId:
        type: string
      status:
        type: string
      traderId:
        type: string
      txHash:
        type: string
      type:
        type: string
    type: object
  response.UpdateBankDetailResponse:
    type: object
  response.User:
    properties:
      id:
        type: string
      login:
        type: string
      role:
        type: string
      username:
        type: string
    type: object
  response.ValidateTokenResponse:
    properties:
      user_id:
        example: 1d6ab366-4fca-4bcc-972d-875c35ea939a
        type: string
      valid:
        type: boolean
    type: object
  response.Verify2FAResponse:
    type: object
  response.WithdrawErrorResponse:
    properties:
      details:
        type: string
      error:
        type: string
    type: object
host: http://localhost:8080
info:
  contact: {}
  description: REST API for ShvarkPay
  title: Shvark API Gateway
  version: "1.0"
paths:
  /2fa/setup:
    post:
      consumes:
      - application/json
      description: Setup 2Fa using Google Authenticator
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Setup2FAResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Setup Google 2FA
      tags:
      - auth
  /2fa/verify:
    post:
      consumes:
      - application/json
      description: Verify 2FA code to enable 2FA for account
      parameters:
      - description: 2FA code
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.Verify2FARequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Verify2FAResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Verify 2FA code
      tags:
      - auth
  /admin/disputes/{id}:
    get:
      consumes:
      - application/json
      description: Get dispute information by ID
      parameters:
      - description: dispute ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetDisputeInfoResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Get dispute info by dispute ID
      tags:
      - admin
  /admin/disputes/accept:
    post:
      description: Accept active dispute
      parameters:
      - description: accept active dispute by ID
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.AcceptDisputeRequest'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.AcceptDisputeResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Accept active dispute
      tags:
      - admin
  /admin/disputes/create:
    post:
      consumes:
      - application/json
      description: Open new dispute
      parameters:
      - description: new dispute data
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_admin_request.CreateDisputeRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_admin_response.CreateDisputeResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create dispute
      tags:
      - admin
  /admin/disputes/freeze:
    post:
      consumes:
      - application/json
      description: Freeze active dispute
      parameters:
      - description: dispute to Freeze
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.FreezeDisputeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.FreezeDisputeResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Freeze active dispute
      tags:
      - admin
  /admin/disputes/reject:
    post:
      description: Reject active dispute
      parameters:
      - description: reject active dispute by ID
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.RejectDisputeRequest'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.RejectDisputeResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Reject active dispute
      tags:
      - admin
  /admin/merchants:
    get:
      consumes:
      - application/json
      description: Get merchants
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetUsersResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Get merchants
      tags:
      - admin
  /admin/merchants/create:
    post:
      consumes:
      - application/json
      description: Create merchant account
      parameters:
      - description: merchant credentials
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.CreateMerchantRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/response.CreateMerchantResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create merchant account
      tags:
      - admin
  /admin/orders/disputes:
    get:
      consumes:
      - application/json
      parameters:
      - default: 1
        description: Page number
        in: query
        minimum: 1
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        type: integer
      - description: Filter by status
        in: query
        name: status
        type: string
      - description: Filter by trader
        in: query
        name: traderId
        type: string
      - description: Filter by merchant
        in: query
        name: merchantId
        type: string
      - description: Filter by dispute ID
        in: query
        name: disputeId
        type: string
      - description: Filter by order ID
        in: query
        name: orderId
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetOrderDisputesResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Get order disputes
      tags:
      - admin
  /admin/orders/statistics:
    get:
      consumes:
      - application/json
      description: Get order statistics
      parameters:
      - description: trader ID
        in: query
        name: traderID
        required: true
        type: string
      - description: Дата начала (RFC3339 format, e.g. 2025-07-21T00:00:00Z)
        in: query
        name: date_from
        required: true
        type: string
      - description: Дата конца (RFC3339 format, e.g. 2025-07-21T23:59:59Z)
        in: query
        name: date_to
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetOrderStatsResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get order statistics
      tags:
      - admin
  /admin/teams/create:
    post:
      consumes:
      - application/json
      description: Create new team
      parameters:
      - description: team credentials
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.CreateTeamRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/response.CreateTeamResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create new team
      tags:
      - admin
  /admin/teams/relations/{relationID}/delete:
    delete:
      consumes:
      - application/json
      description: Delete team relationship
      parameters:
      - description: id of relationship
        in: path
        name: relationID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            type: string
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Delete team relationship
      tags:
      - admin
  /admin/teams/relations/create:
    post:
      consumes:
      - application/json
      description: Create new team relation
      parameters:
      - description: new relation
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.CreateTeamRelationRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Success
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Create new team relation
      tags:
      - admin
  /admin/teams/relations/team-lead/{teamLeadID}:
    get:
      consumes:
      - application/json
      description: get relations by teamLead ID
      parameters:
      - description: teamLeadID
        in: path
        name: teamLeadID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.TeamRelationsResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Get relations by teamLead id
      tags:
      - admin
  /admin/teams/relations/update:
    patch:
      consumes:
      - application/json
      description: Update team relation
      parameters:
      - description: update relation
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.UpdateTeamRelationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Update team relation
      tags:
      - admin
  /admin/teams/teamleads/{teamleadID}/demote:
    post:
      consumes:
      - application/json
      description: Demote teamlead to trader
      parameters:
      - description: teamlead ID to be demoted
        in: path
        name: teamleadID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            type: string
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Demote teamlead
      tags:
      - admin
  /admin/teams/traders/{traderID}/promote-to-teamlead:
    post:
      consumes:
      - application/json
      description: Promote trader to team lead
      parameters:
      - description: trader ID to be promoted to teamlead
        in: path
        name: traderID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Success
          schema:
            type: string
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Promote trader to team lead
      tags:
      - admin
  /admin/traders:
    get:
      consumes:
      - application/json
      description: Get traders
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetUsersResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Get traders
      tags:
      - admin
  /admin/traffic/{trafficId}:
    delete:
      consumes:
      - application/json
      description: Delete traffic record
      parameters:
      - description: traffic ID
        in: path
        name: trafficId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Delete traffic record
      tags:
      - admin
  /admin/traffic/create:
    post:
      consumes:
      - application/json
      parameters:
      - description: create new traffic
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.CreateTrafficRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/response.CreateTrafficResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create new traffic
      tags:
      - admin
  /admin/traffic/edit:
    patch:
      consumes:
      - application/json
      description: Edit traffic
      parameters:
      - description: edit traffic
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.EditTrafficRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.EditTrafficResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Edit traffic
      tags:
      - admin
  /admin/traffic/records:
    get:
      consumes:
      - application/json
      description: Get traffic records
      parameters:
      - default: 1
        description: Page number
        in: query
        minimum: 1
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetTrafficResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get traffic records
      tags:
      - admin
  /admin/users:
    get:
      consumes:
      - application/json
      description: Get users filtered by role
      parameters:
      - description: user role
        in: query
        name: role
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetUsersResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Get users by role
      tags:
      - admin
  /admin/wallets/withdraw/rules:
    post:
      consumes:
      - application/json
      description: Set withdrawal rules for user
      parameters:
      - description: Withdrawal rules
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.SetWithdrawalRulesRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.SetWithdrawalRulesResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Set withdrawal rules
      tags:
      - admin
  /admin/wallets/withdraw/rules/{userId}:
    delete:
      consumes:
      - application/json
      description: Delete user withdrawal rule
      parameters:
      - description: user ID
        in: path
        name: userId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.DeleteWithdrawalRulesResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Delete withdrawal rule
      tags:
      - admin
    get:
      consumes:
      - application/json
      description: Get withdrawal rules for a given trader
      parameters:
      - description: user ID
        in: path
        name: userId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetWithdrawalRulesResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Get withdrawal rules
      tags:
      - admin
  /antifraud/audit-logs:
    get:
      consumes:
      - application/json
      description: Get antifraud audit logs with optional filters
      parameters:
      - description: Filter by trader ID
        in: query
        name: trader_id
        type: string
      - description: Filter from date (RFC3339)
        in: query
        name: from_date
        type: string
      - description: Filter to date (RFC3339)
        in: query
        name: to_date
        type: string
      - description: Show only failed checks
        in: query
        name: only_failed
        type: boolean
      - default: 50
        description: Limit results
        in: query
        name: limit
        type: integer
      - default: 0
        description: Offset results
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.GetAuditLogsResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Get audit logs
      tags:
      - antifraud
  /antifraud/rules:
    get:
      consumes:
      - application/json
      description: Get list of antifraud rules
      parameters:
      - description: Get only active rules
        in: query
        name: active_only
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.GetRulesResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Get antifraud rules
      tags:
      - antifraud
    post:
      consumes:
      - application/json
      description: Create a new antifraud rule
      parameters:
      - description: Rule data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateRuleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.CreateRuleResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Create antifraud rule
      tags:
      - antifraud
  /antifraud/rules/{ruleID}:
    delete:
      consumes:
      - application/json
      description: Delete an antifraud rule
      parameters:
      - description: Rule ID
        in: path
        name: ruleID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.DeleteRuleResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Delete antifraud rule
      tags:
      - antifraud
    get:
      consumes:
      - application/json
      description: Get a specific antifraud rule by ID
      parameters:
      - description: Rule ID
        in: path
        name: ruleID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.AntiFraudRuleResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Get antifraud rule
      tags:
      - antifraud
    patch:
      consumes:
      - application/json
      description: Update an existing antifraud rule
      parameters:
      - description: Rule ID
        in: path
        name: ruleID
        required: true
        type: string
      - description: Update data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateRuleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.UpdateRuleResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Update antifraud rule
      tags:
      - antifraud
  /antifraud/traders/{traderID}/audit-history:
    get:
      consumes:
      - application/json
      description: Get audit history for a specific trader
      parameters:
      - description: Trader ID
        in: path
        name: traderID
        required: true
        type: string
      - default: 10
        description: Limit results
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.GetTraderAuditHistoryResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Get trader audit history
      tags:
      - antifraud
  /antifraud/traders/{traderID}/check:
    post:
      consumes:
      - application/json
      description: Check trader against all active antifraud rules
      parameters:
      - description: Trader ID
        in: path
        name: traderID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.CheckTraderResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Check trader
      tags:
      - antifraud
  /antifraud/traders/{traderID}/manual-unlock:
    post:
      consumes:
      - application/json
      description: Manually unlock trader with grace period
      parameters:
      - description: Trader ID
        in: path
        name: traderID
        required: true
        type: string
      - description: Unlock data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.ManualUnlockRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.ManualUnlockResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Manual unlock trader
      tags:
      - antifraud
  /antifraud/traders/{traderID}/process:
    post:
      consumes:
      - application/json
      description: Check trader and update traffic status
      parameters:
      - description: Trader ID
        in: path
        name: traderID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.ProcessTraderCheckResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Process trader check
      tags:
      - antifraud
  /antifraud/traders/{traderID}/reset-grace-period:
    post:
      consumes:
      - application/json
      description: Reset grace period for trader
      parameters:
      - description: Trader ID
        in: path
        name: traderID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.ResetGracePeriodResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Reset grace period
      tags:
      - antifraud
  /antifraud/traders/{traderID}/unlock-history:
    get:
      consumes:
      - application/json
      description: Get history of manual unlocks for trader
      parameters:
      - description: Trader ID
        in: path
        name: traderID
        required: true
        type: string
      - default: 20
        description: Limit results
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.GetUnlockHistoryResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Get unlock history
      tags:
      - antifraud
  /automatic/auth:
    post:
      consumes:
      - application/json
      description: Authorize device via QR code scan from trader account
      parameters:
      - description: Device auth data
        in: body
        name: body
        required: true
        schema:
          additionalProperties:
            type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Device authorization
      tags:
      - automatic
  /automatic/device-status:
    get:
      consumes:
      - application/json
      description: Get current online status of a device
      parameters:
      - description: Device ID
        in: query
        name: device_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get device status
      tags:
      - automatic
  /automatic/liveness:
    post:
      consumes:
      - application/json
      description: Receive liveness ping from trader's device (heartbeat)
      parameters:
      - description: Device group
        in: body
        name: body
        required: true
        schema:
          additionalProperties:
            type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Device liveness ping
      tags:
      - automatic
  /automatic/logs:
    get:
      consumes:
      - application/json
      description: Retrieve logs of automatic payment processing with filters
      parameters:
      - description: Filter by trader ID
        in: query
        name: trader_id
        type: string
      - description: Filter by device ID
        in: query
        name: device_id
        type: string
      - description: Filter by action (approved, not_found, failed, search_error)
        in: query
        name: action
        type: string
      - description: Filter by success status
        in: query
        name: success
        type: boolean
      - default: 50
        description: Limit results (default 50)
        in: query
        name: limit
        type: integer
      - default: 0
        description: Offset for pagination (default 0)
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get automatic payment logs
      tags:
      - automatic
  /automatic/process-sms:
    post:
      consumes:
      - application/json
      description: Process payment notification from trader's phone
      parameters:
      - description: SMS data
        in: body
        name: sms
        required: true
        schema:
          $ref: '#/definitions/handlers.SMSRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Process SMS notification
      tags:
      - automatic
  /automatic/recent-activity:
    get:
      consumes:
      - application/json
      description: Get recent automatic payment processing activities
      parameters:
      - description: Trader ID
        in: query
        name: trader_id
        required: true
        type: string
      - default: 10
        description: Limit results (default 10)
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get recent automatic activity
      tags:
      - automatic
  /automatic/stats:
    get:
      consumes:
      - application/json
      description: Get statistics for automatic payment processing
      parameters:
      - description: Trader ID
        in: query
        name: trader_id
        required: true
        type: string
      - default: 7
        description: Number of days for statistics (default 7)
        in: query
        name: days
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get automatic processing statistics
      tags:
      - automatic
  /automatic/trader-devices-status:
    get:
      consumes:
      - application/json
      description: Get online status of all trader's devices
      parameters:
      - description: Trader ID
        in: query
        name: trader_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get trader devices status
      tags:
      - automatic
  /banking/details:
    patch:
      consumes:
      - application/json
      description: Update bank detail
      parameters:
      - description: New data for bank detail with given ID
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.UpdateBankDetailRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.UpdateBankDetailResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update bank detail
      tags:
      - banking
    post:
      consumes:
      - application/json
      description: Create new bank detail
      parameters:
      - description: New bank details
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.CreateBankDetailRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/response.CreateBankDetailResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create new bank detail
      tags:
      - banking
  /banking/details/:
    get:
      consumes:
      - application/json
      description: Get bank details by trader ID
      parameters:
      - description: trader uuid
        in: query
        name: trader
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetBankDetailsByTraderIDResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get bank details by trader ID
      tags:
      - banking
  /banking/details/{uuid}:
    get:
      consumes:
      - application/json
      description: Get bank detail by ID
      parameters:
      - description: bank detail UUID
        in: path
        name: uuid
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetBankDetailByIDResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get bank detail by ID
      tags:
      - banking
  /banking/details/delete:
    post:
      consumes:
      - application/json
      parameters:
      - description: bank detail ID
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.DeleteBankDetailRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.DeleteBankDetailResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete bank detail
      tags:
      - banking
  /banking/details/stats/{traderID}:
    get:
      consumes:
      - application/json
      description: Get bank details stats
      parameters:
      - description: traderID
        in: path
        name: traderID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetBankDetailsStatsResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get bank details stats
      tags:
      - banking
  /banking/requisites:
    get:
      consumes:
      - application/json
      description: Returns list of bank details
      parameters:
      - description: Trader ID (UUID)
        in: query
        name: trader_id
        type: string
      - description: Bank Code
        in: query
        name: bank_code
        type: string
      - description: BankDetails is On/Off
        in: query
        name: enabled
        type: boolean
      - description: Payment System
        in: query
        name: payment_system
        type: string
      - description: page
        in: query
        name: page
        type: integer
      - description: page size
        in: query
        name: limit
        type: integer
      - description: bank detail ID
        in: query
        name: bank_detail_id
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetBankDetailsResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get list of bank details
      tags:
      - banking
  /devices:
    post:
      consumes:
      - application/json
      description: Create new logic device for atomatic
      parameters:
      - description: new device data
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/device.CreateDeviceRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/device.CreateDeviceResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Create new device
      tags:
      - devices
  /devices/{deviceId}:
    delete:
      consumes:
      - application/json
      description: Delete exact device by id
      parameters:
      - description: device ID
        in: path
        name: deviceId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/device.DeleteDeviceResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Delete device
      tags:
      - devices
  /devices/{deviceId}/edit:
    patch:
      consumes:
      - application/json
      description: Edit device parameters (name, enabled status)
      parameters:
      - description: device ID
        in: path
        name: deviceId
        required: true
        type: string
      - description: device edit parameters
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/device.EditDeviceRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/device.EditDeviceResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Edit device
      tags:
      - devices
  /devices/{traderId}:
    get:
      consumes:
      - application/json
      description: Get trader devices
      parameters:
      - description: trader ID
        in: path
        name: traderId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/device.GetTraderDevicesResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Get trader devices
      tags:
      - devices
  /login:
    post:
      consumes:
      - application/json
      description: Log in user account
      parameters:
      - description: Login credentials
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_auth_request.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_auth_response.LoginResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: User login
      tags:
      - auth
  /merchant/accounts/balance:
    get:
      consumes:
      - application/json
      description: Get account balance
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/merchant.GetAccountBalanceResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get balance
      tags:
      - merchant
  /merchant/accounts/withdraw/create:
    post:
      consumes:
      - application/json
      description: Withdraw USDT
      parameters:
      - description: withdraw data
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/merchant.WithdrawRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/merchant.WithdrawResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Withdraw crypto from account wallet
      tags:
      - merchant
  /merchant/auth/sign-in:
    post:
      consumes:
      - application/json
      description: sign-in endpoint
      parameters:
      - description: user credentials
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/merchant.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/merchant.LoginResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: sign-in handler
      tags:
      - merchant
  /merchant/banks:
    get:
      consumes:
      - application/json
      description: Get available banks
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: Get banks
      tags:
      - merchant
  /merchant/order:
    get:
      consumes:
      - application/json
      description: Получение списка ордеров с фильтрацией, сортировкой и пагинацией
      parameters:
      - description: Фильтр по ID сделки
        in: query
        name: dealId
        type: string
      - description: 'Тип ордера: DEPOSIT, WITHDRAWAL, PAYOUT'
        enum:
        - DEPOSIT
        - WITHDRAWAL
        - PAYOUT
        in: query
        name: type
        type: string
      - description: Статус ордера
        enum:
        - COMPLETED
        - CANCELED
        - FAILED
        - DISPUTE
        - PENDING
        in: query
        name: status
        type: string
      - description: 'Начальная дата создания (формат: 2006-01-02T15:04:05Z)'
        in: query
        name: timeOpeningStart
        type: string
      - description: 'Конечная дата создания (формат: 2006-01-02T15:04:05Z)'
        in: query
        name: timeOpeningEnd
        type: string
      - description: Минимальная сумма
        in: query
        name: amountMin
        type: number
      - description: Максимальная сумма
        in: query
        name: amountMax
        type: number
      - default: 0
        description: Номер страницы (начиная с 0)
        in: query
        name: page
        type: integer
      - default: 10
        description: Размер страницы
        in: query
        name: size
        type: integer
      - description: 'Поле сортировки: id, deal_id, time_opening, time_expires, time_complete,
          type, status, amount'
        in: query
        name: sort
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.GetOrdersResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Получить список ордеров
      tags:
      - merchant
  /merchant/order/{accountID}/deposit:
    post:
      consumes:
      - application/json
      description: Create new pay-in order
      parameters:
      - description: merchant account ID
        in: path
        name: accountID
        required: true
        type: string
      - description: new deposit order details
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/merchant.CreatePayInRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/merchant.CreatePayInResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create new deposit order
      tags:
      - merchant
  /merchant/order/{iternalId}/status:
    get:
      consumes:
      - application/json
      description: Get order status
      parameters:
      - description: merchant order ID
        in: path
        name: iternalId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/merchant.GetOrderStatusResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get order status
      tags:
      - merchant
  /orders:
    post:
      consumes:
      - application/json
      description: Create new Pay-In order
      parameters:
      - description: new order details
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.CreateOrderRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.CreateOrderResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create new Pay-In order
      tags:
      - orders
  /orders/{uuid}:
    get:
      consumes:
      - application/json
      description: Get order by orderID
      parameters:
      - description: order UUID
        in: path
        name: uuid
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetOrderByIDResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get order by orderID
      tags:
      - orders
  /orders/all:
    get:
      consumes:
      - application/json
      description: Возвращает список сделок с возможностью фильтрации, сортировки
        и пагинации
      parameters:
      - description: ID трейдера
        in: query
        name: trader_id
        type: string
      - description: ID мерчанта
        in: query
        name: merchant_id
        type: string
      - description: ID сделки
        in: query
        name: order_id
        type: string
      - description: ID заказа мерчанта
        in: query
        name: merchant_order_id
        type: string
      - description: Статус сделки
        in: query
        name: status
        type: string
      - description: Код банка
        in: query
        name: bank_code
        type: string
      - description: Начало периода создания (RFC3339)
        in: query
        name: time_opening_start
        type: string
      - description: Конец периода создания (RFC3339)
        in: query
        name: time_opening_end
        type: string
      - description: Минимальная сумма
        in: query
        name: amount_min
        type: number
      - description: Максимальная сумма
        in: query
        name: amount_max
        type: number
      - description: Тип сделки
        in: query
        name: type
        type: string
      - description: Платежная система
        in: query
        name: payment_system
        type: string
      - description: ID устройства
        in: query
        name: device_id
        type: string
      - default: 1
        description: Номер страницы
        in: query
        name: page
        required: true
        type: integer
      - default: 50
        description: Лимит на страницу
        in: query
        name: limit
        required: true
        type: integer
      - description: 'Поле сортировки (amount_fiat, created_at, expires_at) и направление
          (ASC/DESC), например: amount_fiat DESC'
        in: query
        name: sort
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetAllOrdersResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Получить список сделок с фильтрацией
      tags:
      - orders
  /orders/approve:
    post:
      consumes:
      - application/json
      description: Approve order by order uuid
      parameters:
      - description: Order UUID
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.ApproveOrderRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.ApproveOrderResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Approve order by order uuid
      tags:
      - orders
  /orders/cancel:
    post:
      consumes:
      - application/json
      description: Cancel order by order uuid
      parameters:
      - description: Order UUID
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.CancelOrderRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.CancelOrderResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Cancel order by order uuid
      tags:
      - orders
  /orders/merchant/{id}:
    get:
      consumes:
      - application/json
      description: Get order by merchant order ID
      parameters:
      - description: order id in merchant system
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetOrderByIDResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get order by merchant order ID
      tags:
      - orders
  /orders/statistics:
    get:
      consumes:
      - application/json
      description: Get order statistics
      parameters:
      - description: Дата начала (RFC3339 format, e.g. 2025-07-21T00:00:00Z)
        in: query
        name: date_from
        required: true
        type: string
      - description: Дата конца (RFC3339 format, e.g. 2025-07-21T23:59:59Z)
        in: query
        name: date_to
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetOrderStatsResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get order statistics
      tags:
      - orders
  /orders/trader/{traderUUID}:
    get:
      consumes:
      - application/json
      description: Get orders by trader ID
      parameters:
      - description: Trader UUID path param
        in: path
        name: traderUUID
        required: true
        type: string
      - default: 1
        description: Page number
        in: query
        minimum: 1
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        type: integer
      - default: expires_at
        description: Sort field (amount_fiat, expires_at)
        in: query
        name: sort_by
        type: string
      - default: desc
        description: Sort order (asc, desc)
        in: query
        name: sort_order
        type: string
      - collectionFormat: multi
        description: Filter by status
        in: query
        items:
          type: string
        name: status
        type: array
      - description: Minimum amount
        in: query
        name: min_amount
        type: number
      - description: Maximum amount
        in: query
        name: max_amount
        type: number
      - description: Date from (YYYY-MM-DD)
        in: query
        name: date_from
        type: string
      - description: Date to (YYYY-MM-DD)
        in: query
        name: date_to
        type: string
      - description: Currency code
        in: query
        name: currency
        type: string
      - description: Order ID
        in: query
        name: order_id
        type: string
      - description: Merchant order ID
        in: query
        name: merchant_order_id
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetOrdersByTraderIDResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get orders by trader ID
      tags:
      - orders
  /payments/accounts/auth/sign-in:
    post:
      consumes:
      - application/json
      description: sign-in endpoint
      parameters:
      - description: user credentials
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/merchant.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/merchant.LoginResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: sign-in handler
      tags:
      - payments
  /payments/accounts/balance:
    get:
      consumes:
      - application/json
      description: Get account balance
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/merchant.GetAccountBalanceResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get balance
      tags:
      - payments
  /payments/accounts/withdraw/create:
    post:
      consumes:
      - application/json
      description: Withdraw USDT
      parameters:
      - description: withdraw data
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/merchant.WithdrawRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/merchant.WithdrawResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Withdraw crypto from account wallet
      tags:
      - payments
  /payments/deeplink/redirect:
    post:
      consumes:
      - application/json
      description: Redirect to bank app deeplink
      parameters:
      - description: deeplink parameters
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.CreateDeeplinkRequest'
      produces:
      - application/json
      responses:
        "302":
          description: Found
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Redirect to deeplink
      tags:
      - payments
  /payments/deeplink/select:
    get:
      consumes:
      - application/json
      description: Get HTML page with bank selection for deeplinks
      parameters:
      - description: Order ID
        in: query
        name: order_id
        required: true
        type: string
      produces:
      - text/html
      responses:
        "200":
          description: HTML content
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Get bank selection page
      tags:
      - payments
  /payments/deeplink/specific:
    get:
      consumes:
      - application/json
      description: Get HTML deeplink page for specific bank
      parameters:
      - description: Order ID
        in: query
        name: order_id
        required: true
        type: string
      - description: Bank code
        in: query
        name: bank
        required: true
        type: string
      - description: Phone number
        in: query
        name: phone
        type: string
      produces:
      - text/html
      responses:
        "200":
          description: HTML content
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Get specific bank deeplink
      tags:
      - payments
  /payments/in/h2h:
    post:
      consumes:
      - application/json
      description: Create new Pay-In using host-to-host method
      parameters:
      - description: pay-in info
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.CreateH2HPayInRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/response.CreateH2HPayInResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.BadRequestErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.NoBankDetailsErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create new H2H Pay-In
      tags:
      - payments
  /payments/in/h2h/{id}:
    get:
      consumes:
      - application/json
      description: Get host-to-host pay-in order info
      parameters:
      - description: order id
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetH2HPayInInfoResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.BadRequestErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Get H2h Pay-in info
      tags:
      - payments
  /payments/in/h2h/{id}/arbitrage/info:
    get:
      consumes:
      - application/json
      description: Get dispute info by disputeID
      parameters:
      - description: dispute id
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetPayInArbitrageInfoResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Get info about dispute
      tags:
      - payments
  /payments/in/h2h/{id}/arbitrage/link:
    post:
      consumes:
      - application/json
      description: Opent dispute by order id
      parameters:
      - description: order ID
        in: path
        name: id
        required: true
        type: string
      - description: dispute description
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_payment_request.CreateDisputeRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_payment_response.CreateDisputeResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Open dispute for given order
      tags:
      - payments
  /payments/in/h2h/{id}/cancel:
    post:
      consumes:
      - application/json
      description: Cancel Pay in order
      parameters:
      - description: order ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.CancelPayInResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Cancel Pay In order
      tags:
      - payments
  /payments/order:
    get:
      consumes:
      - application/json
      description: Получение списка ордеров с фильтрацией, сортировкой и пагинацией
      parameters:
      - description: Фильтр по ID сделки
        in: query
        name: dealId
        type: string
      - description: 'Тип ордера: DEPOSIT, WITHDRAWAL, PAYOUT'
        enum:
        - DEPOSIT
        - WITHDRAWAL
        - PAYOUT
        in: query
        name: type
        type: string
      - description: Статус ордера
        enum:
        - COMPLETED
        - CANCELED
        - FAILED
        - DISPUTE
        - PENDING
        in: query
        name: status
        type: string
      - description: 'Начальная дата создания (формат: 2006-01-02T15:04:05Z)'
        in: query
        name: timeOpeningStart
        type: string
      - description: 'Конечная дата создания (формат: 2006-01-02T15:04:05Z)'
        in: query
        name: timeOpeningEnd
        type: string
      - description: Минимальная сумма
        in: query
        name: amountMin
        type: number
      - description: Максимальная сумма
        in: query
        name: amountMax
        type: number
      - default: 0
        description: Номер страницы (начиная с 0)
        in: query
        name: page
        type: integer
      - default: 10
        description: Размер страницы
        in: query
        name: size
        type: integer
      - description: 'Поле сортировки: id, deal_id, time_opening, time_expires, time_complete,
          type, status, amount'
        in: query
        name: sort
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.GetOrdersResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Получить список ордеров
      tags:
      - payments
  /payments/order/{orderId}/status:
    get:
      consumes:
      - application/json
      description: Get order status
      parameters:
      - description: order ID
        in: path
        name: orderId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/merchant.GetOrderStatusResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get order status
      tags:
      - payments
  /profiles/{uuid}:
    get:
      consumes:
      - application/json
      description: Get profile by uuid
      parameters:
      - description: Profile uuid
        in: path
        name: uuid
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetProfileByIDResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Get profile by uuid
      tags:
      - profiles
  /rbac/permissions:
    post:
      consumes:
      - application/json
      description: Check user permission
      parameters:
      - description: Permission subject, object, action
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.CheckPermissionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.CheckPermissionResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Check user permission
      tags:
      - RBAC
  /rbac/policies:
    delete:
      consumes:
      - application/json
      description: Delete policy
      parameters:
      - description: Policy details to delete
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.DeletePolicyRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.DeletePolicyResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete policy
      tags:
      - RBAC
    post:
      consumes:
      - application/json
      description: Add policy
      parameters:
      - description: New policy details
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.AddPolicyRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.AddPolicyResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Add policy
      tags:
      - RBAC
  /rbac/roles:
    delete:
      consumes:
      - application/json
      description: Revoke role
      parameters:
      - description: Role assigned to user to revoke
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.RevokeRoleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.RevokeRoleResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Revoke role
      tags:
      - RBAC
    post:
      consumes:
      - application/json
      description: Assign role
      parameters:
      - description: Role assigned to user
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.AssignRoleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.AssignRoleResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Assign role
      tags:
      - RBAC
  /register:
    post:
      consumes:
      - application/json
      description: Creating new account
      parameters:
      - description: Registration credentials
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.RegisterRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/response.RegisterResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: User registration
      tags:
      - auth
  /traffic/{trafficID}/lock-statuses:
    get:
      consumes:
      - application/json
      description: Get all lock statuses for specific traffic record
      parameters:
      - description: traffic record ID
        in: path
        name: trafficID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.LockStatusesResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Get traffic lock statuses
      tags:
      - traffic
  /traffic/{trafficID}/manual:
    patch:
      consumes:
      - application/json
      description: On/Off manual traffic lock status for specific traffic record
      parameters:
      - description: traffic record ID
        in: path
        name: trafficID
        required: true
        type: string
      - description: is unlocked
        in: query
        name: unlocked
        required: true
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Set manual traffic lock status
      tags:
      - traffic
  /traffic/{trafficID}/unlocked:
    get:
      consumes:
      - application/json
      description: Check if traffic is unlocked by any method
      parameters:
      - description: traffic record ID
        in: path
        name: trafficID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.TrafficUnlockedResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Check if traffic is unlocked
      tags:
      - traffic
  /traffic/antifraud/{traderID}:
    patch:
      consumes:
      - application/json
      description: On/Off antifraud traffic lock status
      parameters:
      - description: trader ID
        in: path
        name: traderID
        required: true
        type: string
      - description: is unlocked
        in: query
        name: unlocked
        required: true
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Set antifraud traffic lock status
      tags:
      - traffic
  /traffic/merchants/{merchantID}:
    patch:
      consumes:
      - application/json
      description: On/Off merchant traffic lock status
      parameters:
      - description: merchant ID
        in: path
        name: merchantID
        required: true
        type: string
      - description: is unlocked
        in: query
        name: unlocked
        required: true
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Set merchant traffic lock status
      tags:
      - traffic
  /traffic/traders/{traderID}:
    get:
      consumes:
      - application/json
      description: Get all traffic records for a trader
      parameters:
      - description: Trader ID
        in: path
        name: traderID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.GetTraderTrafficResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Get trader traffic
      tags:
      - traffic
    patch:
      consumes:
      - application/json
      description: On/Off trader traffic lock status
      parameters:
      - description: trader ID
        in: path
        name: traderID
        required: true
        type: string
      - description: is unlocked
        in: query
        name: unlocked
        required: true
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Set trader traffic lock status
      tags:
      - traffic
  /users/{id}:
    get:
      consumes:
      - application/json
      description: Get user by UUID
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetUserByIDResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Get user by UUID
      tags:
      - users
  /validate_token:
    post:
      consumes:
      - application/json
      description: Check if JWT is valid or not
      parameters:
      - description: JWT instance
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.ValidateTokenRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.ValidateTokenResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: JWT validation check-point
      tags:
      - auth
  /wallets/{traderID}/address:
    get:
      consumes:
      - application/json
      description: Get trader crypto wallet address
      parameters:
      - description: TraderID
        in: path
        name: traderID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetTraderWalletAddressResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.GetTraderWalletAddressErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.GetTraderWalletAddressErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/response.GetTraderWalletAddressErrorResponse'
      security:
      - BearerAuth: []
      summary: Get trader crypto wallet address
      tags:
      - wallets
  /wallets/{traderID}/balance:
    get:
      consumes:
      - application/json
      description: Get trader crypto balance
      parameters:
      - description: TraderID
        in: path
        name: traderID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetTraderBalanceResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.GetTraderBalanceErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.GetTraderBalanceErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/response.GetTraderBalanceErrorResponse'
      security:
      - BearerAuth: []
      summary: Get trader crypto balance
      tags:
      - wallets
  /wallets/{traderID}/commission-profit:
    get:
      consumes:
      - application/json
      description: Get total commission profit for user in specified period
      parameters:
      - description: Trader ID
        in: path
        name: traderID
        required: true
        type: string
      - description: Start date (ISO 8601 format)
        in: query
        name: from
        required: true
        type: string
      - description: End date (ISO 8601 format)
        in: query
        name: to
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.CommissionProfitResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get commission profit
      tags:
      - wallets
  /wallets/{traderID}/history:
    get:
      consumes:
      - application/json
      description: Get trader transaction history with pagination
      parameters:
      - description: TraderID
        in: path
        name: traderID
        required: true
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetTraderHistoryResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.GetTraderHistoryErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.GetTraderHistoryErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/response.GetTraderHistoryErrorResponse'
      security:
      - BearerAuth: []
      summary: Get trader transactions history
      tags:
      - wallets
  /wallets/create:
    post:
      consumes:
      - application/json
      description: Create new wallet
      parameters:
      - description: New wallet data
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.CreateWalletRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/response.CreateWalletErrorResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.CreateWalletErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.CreateWalletErrorResponse'
      security:
      - BearerAuth: []
      summary: Create new wallet
      tags:
      - wallets
  /wallets/deposit:
    post:
      consumes:
      - application/json
      description: Deposit crypto off chain
      parameters:
      - description: wallet data
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.DepositRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.DepositResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.DepositErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.DepositErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/response.DepositErrorResponse'
      security:
      - BearerAuth: []
      summary: Deposit crypto off-chain
      tags:
      - wallets
  /wallets/freeze:
    post:
      consumes:
      - application/json
      description: Freeze crypto
      parameters:
      - description: wallet data
        in: body
        name: imput
        required: true
        schema:
          $ref: '#/definitions/request.FreezeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.FreezeResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.FreezeErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.FreezeErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/response.FreezeErrorResponse'
      security:
      - BearerAuth: []
      summary: Freeze crypto
      tags:
      - wallets
  /wallets/offchain-withdraw:
    post:
      consumes:
      - application/json
      description: Withdraw crypto off-chain
      parameters:
      - description: wallet data
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.OffchainWithdrawRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.OffchainWithdrawResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Withdraw crypto off-chain
      tags:
      - wallets
  /wallets/release:
    post:
      consumes:
      - application/json
      description: Release crypto
      parameters:
      - description: wallet data
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/request.ReleaseRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.ReleaseResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ReleaseErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.ReleaseErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/response.ReleaseErrorResponse'
      security:
      - BearerAuth: []
      summary: Release crypto
      tags:
      - wallets
  /wallets/withdraw:
    post:
      consumes:
      - application/json
      description: Withdraw crypto
      parameters:
      - description: wallet data
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_wallet_request.WithdrawRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_LavaJover_shvark-api-gateway_internal_delivery_http_dto_wallet_response.WithdrawResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.WithdrawErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.WithdrawErrorResponse'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/response.WithdrawErrorResponse'
      security:
      - BearerAuth: []
      summary: Withdraw crypto
      tags:
      - wallets
schemes:
- http
securityDefinitions:
  BearerAuth:
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
